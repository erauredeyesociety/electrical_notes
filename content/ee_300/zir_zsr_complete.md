# Complete Guide: Zero-Input Response (ZIR) and Zero-State Response (ZSR)

## Overview

The **total response** of a linear circuit can be decomposed into two fundamental components using the principle of superposition:

$$\boxed{v_{\text{total}}(t) = v_{\text{ZSR}}(t) + v_{\text{ZIR}}(t)}$$

This separation is powerful because it allows us to analyze:
- **Initial condition effects** (ZIR) separately from
- **Input source effects** (ZSR)

---

## 1. Conceptual Understanding

### Zero-Input Response (ZIR)

**Definition:** The circuit response due **only to initial conditions** (stored energy), with all external inputs set to zero.

**Key Characteristics:**
- Caused by: Initial capacitor voltage $v_C(0)$ or inductor current $i_L(0)$
- Input sources: Set to zero (voltage sources → short circuit, current sources → open circuit)
- Nature: **Pure natural response** - determined entirely by circuit components (R, L, C)
- Physical meaning: Energy stored in the circuit "relaxing" or dissipating
- Response form: Exponential decay based on circuit time constants

**In S-domain:** Generated by initial condition sources $\frac{v_C(0)}{s}$ or $\frac{i_L(0)}{s}$

---

### Zero-State Response (ZSR)

**Definition:** The circuit response due **only to external input sources**, assuming zero initial energy storage.

**Key Characteristics:**
- Caused by: External input $v_s(t)$ or $i_s(t)$
- Initial conditions: Set to zero ($v_C(0) = 0$, $i_L(0) = 0$)
- Nature: Contains **both natural and forced responses**
- Physical meaning: System response to external excitation
- Response form: Natural component (exponentials) + forced component (matching input form)

**In S-domain:** Generated by transformed input sources $V_s(s)$ or $I_s(s)$

---

## 2. S-Domain Component Models

### Resistor
$$Z_R = R$$
- No initial condition source (no energy storage)

### Capacitor
**Impedance:**
$$Z_C = \frac{1}{sC}$$

**Complete S-domain model:**
$$V_C(s) = \frac{1}{sC} I_C(s) + \frac{v_C(0)}{s}$$

**Equivalent circuit:** Impedance $\frac{1}{sC}$ in series with voltage source $\frac{v_C(0)}{s}$

### Inductor
**Impedance:**
$$Z_L = sL$$

**Complete S-domain model (voltage form):**
$$V_L(s) = sL \cdot I_L(s) - Li_L(0)$$

**Complete S-domain model (current form):**
$$I_L(s) = \frac{V_L(s)}{sL} + \frac{i_L(0)}{s}$$

**Equivalent circuits:**
- Impedance $sL$ in series with voltage source $Li_L(0)$ (opposite polarity), OR
- Impedance $sL$ in parallel with current source $\frac{i_L(0)}{s}$

---

## 3. Step-by-Step Solution Process

### Phase 0: Initial Setup

**Step 1:** Draw the time-domain circuit and identify all components

**Step 2:** Find initial conditions for $t < 0$ (steady-state DC analysis)
- Capacitors: Open circuits (no current flows)
- Inductors: Short circuits (no voltage drop)
- Calculate $v_C(0^-)$ and $i_L(0^-)$

**Step 3:** Apply continuity conditions
- Capacitor voltage cannot change instantly: $v_C(0^+) = v_C(0^-)$
- Inductor current cannot change instantly: $i_L(0^+) = i_L(0^-)$

**Step 4:** Transform circuit to S-domain for $t \geq 0$
- Replace each component with its S-domain equivalent
- Include initial condition sources
- Transform input sources using Laplace tables

---

### Phase 1: Calculate Zero-State Response (ZSR)

**Step 1:** Modify the S-domain circuit:
- **Zero all initial condition sources**
  - Remove (short circuit) capacitor voltage sources $\frac{v_C(0)}{s}$
  - Remove (open circuit) inductor current sources $\frac{i_L(0)}{s}$
- **Keep external input sources active**

**Step 2:** Analyze the circuit to find $V_{\text{ZSR}}(s)$ or $I_{\text{ZSR}}(s)$
- Use KVL, KCL, nodal analysis, or mesh analysis
- Apply voltage/current dividers where applicable

**Step 3:** Perform Partial Fraction Expansion (PFE) on $V_{\text{ZSR}}(s)$

**Step 4:** Apply Inverse Laplace Transform to get $v_{\text{ZSR}}(t)$

---

### Phase 2: Calculate Zero-Input Response (ZIR)

**Step 1:** Modify the S-domain circuit:
- **Zero all external input sources**
  - Short circuit voltage sources
  - Open circuit current sources
- **Keep initial condition sources active**

**Step 2:** Analyze the circuit to find $V_{\text{ZIR}}(s)$ or $I_{\text{ZIR}}(s)$

**Step 3:** Perform Partial Fraction Expansion (PFE) on $V_{\text{ZIR}}(s)$

**Step 4:** Apply Inverse Laplace Transform to get $v_{\text{ZIR}}(t)$

---

### Phase 3: Combine Responses

**Step 1:** Add responses in time domain:
$$v_{\text{total}}(t) = v_{\text{ZSR}}(t) + v_{\text{ZIR}}(t) \quad \text{for } t \geq 0$$

**Step 2:** Verify (optional but recommended):
- Calculate total response directly without separation
- Check that it equals ZSR + ZIR

---

## 4. Essential Laplace Transform Tools

### Common Transform Pairs

| Time Domain $f(t)$ | S-Domain $F(s)$ |
|:---|:---|
| $\delta(t)$ | $1$ |
| $u(t)$ | $\frac{1}{s}$ |
| $e^{-at}u(t)$ | $\frac{1}{s+a}$ |
| $te^{-at}u(t)$ | $\frac{1}{(s+a)^2}$ |
| $\sin(\omega t)u(t)$ | $\frac{\omega}{s^2 + \omega^2}$ |
| $\cos(\omega t)u(t)$ | $\frac{s}{s^2 + \omega^2}$ |

### Differentiation Property (Key for Initial Conditions)

$$\mathcal{L}\left\{\frac{df(t)}{dt}\right\} = sF(s) - f(0)$$

This property naturally separates the initial condition term $f(0)$ from the transformed derivative.

---

## 5. Partial Fraction Expansion (PFE)

### For Distinct Real Poles

If $V(s) = \frac{N(s)}{(s-p_1)(s-p_2)\cdots(s-p_n)}$ where all poles are distinct:

$$V(s) = \frac{k_1}{s-p_1} + \frac{k_2}{s-p_2} + \cdots + \frac{k_n}{s-p_n}$$

**Cover-up method** for residue $k_i$:
$$k_i = \left[(s-p_i)V(s)\right]_{s=p_i}$$

### For Repeated Poles

If pole $p_1$ has multiplicity $r$:

$$V(s) = \frac{k_{1,r}}{(s-p_1)^r} + \frac{k_{1,r-1}}{(s-p_1)^{r-1}} + \cdots + \frac{k_{1,1}}{s-p_1} + \text{(other terms)}$$

**Highest order residue:**
$$k_{1,r} = \left[(s-p_1)^r V(s)\right]_{s=p_1}$$

**Lower order residues:**
$$k_{1,j} = \frac{1}{(r-j)!} \frac{d^{r-j}}{ds^{r-j}}\left[(s-p_1)^r V(s)\right]_{s=p_1}$$

### For Complex Conjugate Poles

If poles are $p = -\alpha \pm j\omega$, the inverse transform yields:

$$v(t) = 2|k|e^{-\alpha t}\cos(\omega t + \angle k)$$

where $k$ is the residue at one of the complex poles.

---

## 6. Worked Example: Series RC Circuit

**Given:**
- $R = 2\,\Omega$
- $C = 0.5\,\text{F}$
- Input: $v_s(t) = 10u(t)\,\text{V}$
- Initial condition: $v_C(0) = 5\,\text{V}$

**Find:** Capacitor voltage $v_C(t)$ for $t \geq 0$, separated into ZIR and ZSR.

---

### Solution: Zero-State Response (ZSR)

**Step 1:** Set $v_C(0) = 0$, keep input active

**Step 2:** S-domain circuit equation (KVL):
$$V_s(s) = RI_C(s) + \frac{1}{sC}I_C(s)$$

$$\frac{10}{s} = I_C(s)\left(2 + \frac{2}{s}\right) = I_C(s)\frac{2(s+1)}{s}$$

$$I_C(s) = \frac{5}{s+1}$$

**Step 3:** Calculate capacitor voltage:
$$V_{C,\text{ZSR}}(s) = \frac{1}{sC} I_C(s) = \frac{2}{s} \cdot \frac{5}{s+1} = \frac{10}{s(s+1)}$$

**Step 4:** Partial Fraction Expansion:
$$\frac{10}{s(s+1)} = \frac{A}{s} + \frac{B}{s+1}$$

Using cover-up method:
- $A = \left[s \cdot \frac{10}{s(s+1)}\right]_{s=0} = 10$
- $B = \left[(s+1) \cdot \frac{10}{s(s+1)}\right]_{s=-1} = -10$

$$V_{C,\text{ZSR}}(s) = \frac{10}{s} - \frac{10}{s+1}$$

**Step 5:** Inverse transform:
$$\boxed{v_{C,\text{ZSR}}(t) = 10(1 - e^{-t})\,\text{V}}$$

---

### Solution: Zero-Input Response (ZIR)

**Step 1:** Set input to zero (short circuit), keep $v_C(0) = 5\,\text{V}$

**Step 2:** S-domain circuit equation (KVL):
$$0 = RI_C(s) + \frac{1}{sC}I_C(s) + \frac{v_C(0)}{s}$$

$$-\frac{5}{s} = I_C(s)\frac{2(s+1)}{s}$$

$$I_C(s) = -\frac{5}{2(s+1)}$$

**Step 3:** Calculate capacitor voltage:
$$V_{C,\text{ZIR}}(s) = \frac{1}{sC}I_C(s) + \frac{v_C(0)}{s}$$

$$V_{C,\text{ZIR}}(s) = \frac{2}{s} \cdot \left(-\frac{5}{2(s+1)}\right) + \frac{5}{s}$$

$$V_{C,\text{ZIR}}(s) = -\frac{5}{s(s+1)} + \frac{5}{s}$$

**Step 4:** Simplify using PFE on first term:
$$-\frac{5}{s(s+1)} = -\frac{5}{s} + \frac{5}{s+1}$$

$$V_{C,\text{ZIR}}(s) = -\frac{5}{s} + \frac{5}{s+1} + \frac{5}{s} = \frac{5}{s+1}$$

**Step 5:** Inverse transform:
$$\boxed{v_{C,\text{ZIR}}(t) = 5e^{-t}\,\text{V}}$$

---

### Total Response

$$v_C(t) = v_{C,\text{ZSR}}(t) + v_{C,\text{ZIR}}(t)$$

$$\boxed{v_C(t) = 10(1-e^{-t}) + 5e^{-t} = 10 - 5e^{-t}\,\text{V}}$$

**Physical interpretation:**
- **ZIR:** Initial 5V decays exponentially to 0V (τ = RC = 1s)
- **ZSR:** Charges from 0V to 10V exponentially (same τ)
- **Total:** Transitions from 5V to 10V exponentially

---

## 7. Quick Reference Summary

| Aspect | ZIR | ZSR |
|:---|:---|:---|
| **Cause** | Initial conditions only | Input sources only |
| **Initial Conditions** | Active: $v_C(0) \neq 0$, $i_L(0) \neq 0$ | Zeroed: $v_C(0) = 0$, $i_L(0) = 0$ |
| **Input Sources** | Zeroed (short/open) | Active |
| **Response Type** | Pure natural response | Natural + forced response |
| **Physical Meaning** | Stored energy dissipation | System driven by excitation |
| **Poles** | Circuit natural frequencies | Same natural frequencies |
| **Time Constants** | Determined by R, L, C | Same as ZIR |

---

## 8. Common Mistakes to Avoid

1. ❌ **Forgetting initial condition sources** when calculating ZIR
2. ❌ **Not zeroing initial conditions** when calculating ZSR
3. ❌ **Incorrect polarity** of initial condition sources
4. ❌ **Sign errors** in series-connected sources
5. ❌ **Confusing natural response with ZIR** (ZSR also has natural components!)
6. ❌ **Not verifying** that ZIR + ZSR = Total Response
7. ❌ **Wrong impedance forms** (forgetting the $s$ in $sL$ or $\frac{1}{sC}$)

---

## 9. Time Constants Reference

**Series RC:** $\tau = RC$

**Series RL:** $\tau = \frac{L}{R}$

**Parallel RC:** $\tau = RC$

**Parallel RL:** $\tau = \frac{L}{R}$

**Response form:** $v(t) = V_f + (V_i - V_f)e^{-t/\tau}$

Where:
- $V_i$ = initial value
- $V_f$ = final (steady-state) value
- After $5\tau$, response reaches ~99.3% of final value

---

## 10. Practice Problems

### Problem 1: Series RL Circuit
- $R = 4\,\Omega$, $L = 2\,\text{H}$
- Input: $v_s(t) = 12u(t)\,\text{V}$
- Initial condition: $i_L(0) = 1\,\text{A}$

Find $i_L(t)$ for $t \geq 0$, separating into ZIR and ZSR.

### Problem 2: Parallel RC Circuit
- $R = 5\,\Omega$, $C = 0.2\,\text{F}$
- Input: $i_s(t) = 2u(t)\,\text{A}$
- Initial condition: $v_C(0) = 3\,\text{V}$

Find $v_C(t)$ for $t \geq 0$, separating into ZIR and ZSR.